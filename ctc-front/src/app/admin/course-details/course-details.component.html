<div class="m-5" *ngIf="isDataFetched">
  <div class="container-xxl flex-grow-1 container-p-y">
    <div class="row">
      <div class="mb-4">
        <div class="card">
          <div class="d-flex align-items-end row">
            <div class="col-sm-7">
              <div class="card-body">
                <h5 class="cardTitle">
                  {{ coursesDetails.name }}
                </h5>
                <p class="mb-4">{{ coursesDetails.preview }} </p>

                <a href="/course-enroll/{{ coursesDetails.id }}" class="button"
                  >Enroll</a
                >
              </div>
            </div>
            <div class="col-sm-5 text-center text-sm-left">
              <div class="card-body pb-0 px-0 px-md-4">
                <img
                  src="https://drive.google.com/uc?export=view&id={{
                    coursesDetails.mainImage
                  }}"
                  height="140"
                  class="courseImage"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="secondRow">
      <div class="row">
        <div class="col-lg-8 mb-4">
          <div class="card">
            <h5 class="card-header m-0">
              <div class="aboutTheCourse">About the course</div>
            </h5>

            <div class="card-body">
              <div>
                <h3 class="text-center">
                  <div class="aboutTheCourse">What will you learn ?</div>
                </h3>
                {{ coursesDetails.description }}
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-4">
          <div class="row">
            <div class="col-lg-6 col-6 mb-4">
              <div class="card">
                <div class="card-body">
                  <i class="fa-solid fa-calendar-days m-2"></i>Date debut

                  <h3 class="card-title mb-2">{{ startDateFormat }}</h3>
                  <small class="text-success fw-semibold"
                    ><i class="bx bx-up-arrow-alt"></i> 30.80%</small
                  >
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-6 mb-4">
              <div class="card">
                <div class="card-body">
                  <i class="fa-solid fa-calendar-days m-2"></i>Date fin

                  <h3 class="card-title mb-2">{{ endDateFormat }}</h3>
                  <small class="text-success fw-semibold"
                    ><i class="bx bx-up-arrow-alt"></i> +72.80%</small
                  >
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-6 mb-4">
              <div class="card">
                <div class="card-body">
                  <i class="fa-solid fa-location-dot m-2"></i>Adresse

                  <h3 class="card-title mb-2">{{ coursesDetails.address }}</h3>
                  <small class="text-success fw-semibold"
                    ><i class="bx bx-up-arrow-alt"></i> +72.80%</small
                  >
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-6 mb-4">
              <div class="card">
                <div class="card-body">
                  <i class="fa-solid fa-tag m-2"></i>places restantes

                  <h3 class="card-title mb-2">
                    {{ coursesDetails.placesAvailable }}
                  </h3>
                  <small class="text-success fw-semibold"
                    ><i class="bx bx-up-arrow-alt"></i> 30.80%</small
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="mb-4">
        <div class="card">
          <div class="d-flex align-items-center row">
            <div class="col-lg-7">
              <div class="card-body">
                <h2 class="instructorTitle">About the instructor :</h2>

                <h5>
                  <div class="nameLastName">
                    {{ coursesDetails.instructedBy.user.firstName }}
                    {{ coursesDetails.instructedBy.user.lastName }}
                  </div>
                </h5>
                <p class="mb-4">
                  {{ coursesDetails.instructedBy.resume }}
                </p>
              </div>
            </div>
            <div class="col-lg-5 text-center text-md-left">
              <div class="card-body pb-0 px-0 px-md-4 m-2">
                <img
                  src="https://drive.google.com/uc?export=view&id={{
                    coursesDetails.instructedBy.professionalImage
                  }}"
                  class="instructorImage"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="table">

  <div *ngIf=" enrollmentId && enrollmentId.length>0">
    <div class="tableTitle">Enrollment Details</div>
    <div class="stateContainer">Enrollment Status :  <span class="state">{{ enrollDetails.state }}</span> </div>
    <div class="stateContainer" *ngIf="penaltyMessage.length>0">cancel penalty:  <span class="state">{{ penaltyMessage }}</span> </div>
    <div *ngIf="enrollDetails.extraInformations &&enrollDetails.extraInformations.length > 0">
      <div class="tableContent">
        <h2>other users</h2>
        <nz-table #basicTable [nzData]="enrollDetails.extraInformations">
          <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of basicTable.data">
              <td>{{ data.fullName }}</td>
              <td>{{ data.email }}</td>
            </tr>
          </tbody>
        </nz-table>
      </div>

      
    </div>
    <div>
      <div class="cancelButtonContainer">
        <button
        nz-button
        class="cancelButton"
        [nzType]="'primary'"
        (click)="confirmEnrollment()"
      >
        Confirm Enrollment
      </button>
      <br>
        <!-- <div>
          <app-button text="CONFIRM ENROLLMENT" (click)="confirmEnrollment()"></app-button>
        </div> -->
        <button
        nz-button
        class="cancelButton"
        [nzType]="'primary'"
        (click)="cancelEnrollment()"
      >
        Cancel Enrollment
      </button>

      </div>
      <!-- <app-button
        text="CANCEL ENROLLMENT"
        (click)="cancelEnrollment()"
      ></app-button> -->
    </div>

  </div>
</div>

</div>

